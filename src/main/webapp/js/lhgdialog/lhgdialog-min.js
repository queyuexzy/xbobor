/*!
 * lhgcore Dialog Plugin v3.5.2
 * Date : 2011-07-03 11:03:11
 * Copyright (c) 2009 - 2011 By Li Hui Gang
 */
(function(l){var k=window,m,r,q,d=(l.browser.msie&&l.browser.version<7)?true:false,f=d?'<iframe hideFocus="true" frameborder="0" src="about:blank" style="position:absolute;z-index:-1;width:100%;height:100%;top:0px;left:0px;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>':"",n=function(e){e=e||document;return e.compatMode=="CSS1Compat"?e.documentElement:e.body},c=function(){if(!q){q=1976}return ++q},b=function(){if("pageXOffset" in k){return{x:k.pageXOffset||0,y:k.pageYOffset||0}}else{var e=n(m);return{x:e.scrollLeft||0,y:e.scrollTop||0}}},o=function(){var e=n(m);return{w:e.clientWidth||0,h:e.clientHeight||0}},j=(function(){var v=document.getElementsByTagName("script"),u="",s=0,e=v.length,t=/lhgdialog(?:\.min)?\.js/i;for(;s<e;s++){if(t.test(v[s].src)){u=!!document.querySelector?v[s].src:v[s].getAttribute("src",4);break}}return u.split("?")})(),p=j[0].substr(0,j[0].lastIndexOf("/")+1),i=function(s){if(j[1]){var v=j[1].split("&"),t=0,e=v.length,u;for(;t<e;t++){u=v[t].split("=");if(s===u[0]){return u[1]}}}return null},a=i("s")||"default",g=function(){var e=n(m);l(r).css({width:Math.max(e.scrollWidth,e.clientWidth||0)-1+"px",height:Math.max(e.scrollHeight,e.clientHeight||0)-1+"px"})};while(k.parent&&k.parent!=k){try{if(k.parent.document.domain!=document.domain){break}}catch(h){break}k=k.parent}if(i("t")==="self"||k.document.getElementsByTagName("frameset").length>0){k=window}m=k.document;try{m.execCommand("BackgroundImageCache",false,true)}catch(h){}a=a.split(",");l.fn.fixie6png=function(){var u=l("*",this),s,v;for(var t=0,e=u.length;t<e;t++){s=l(u[t]).css("ie6png");v=p+"skins/"+s;if(s){u[t].style.backgroundImage="none";u[t].runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+v+"',sizingMethod='scale')"}}};l.fn.dialog=function(s){var e=false;if(this[0]){e=new l.dialog(s);this.bind("click",e.ShowDialog)}return e};l.dialog=function(I){var v=this,N,D,H,s,e,w,U,B,G,t=l.extend({title:"lhgdialog \u5F39\u51FA\u7A97\u53E3",cover:false,titleBar:true,btnBar:true,xButton:true,maxBtn:true,minBtn:false,cancelBtn:true,width:400,height:300,id:"lhgdgId",link:false,html:null,page:null,parent:null,dgOnLoad:null,onXclick:null,onCancel:null,onMinSize:null,fixed:false,top:"center",left:"center",drag:true,skin:a[0],resize:true,autoSize:false,rang:false,timer:null,iconTitle:true,bgcolor:"#fff",opacity:0.5,args:null,lockScroll:false,autoPos:false,autoCloseFn:null,cancelBtnTxt:"\u53D6\u6D88",loadingText:"\u7A97\u53E3\u5185\u5BB9\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u7B49..."},I||{}),R,Q={},x=false,C,M=function(W){var V=W.style,S=n(m),Y=parseInt(V.left)-S.scrollLeft,X=parseInt(V.top)-S.scrollTop;V.removeExpression("left");V.removeExpression("top");V.setExpression("left","this.ownerDocument.documentElement.scrollLeft"+Y);V.setExpression("top","this.ownerDocument.documentElement.scrollTop + "+X)},L=function(){var S,V;if(t.html){if(typeof t.html==="string"){S='<div id="lhgdg_inbox_'+t.id+'" class="lhgdg_inbox_'+t.skin+'" style="display:none">'+t.html+"</div>"}else{S='<div id="lhgdg_inbox_'+t.id+'" class="lhgdg_inbox_'+t.skin+'" style="display:none"></div>'}}else{if(t.page){S='<iframe id="lhgfrm_'+t.id+'" frameborder="0" src="'+t.page+'" scrolling="auto" style="display:none;width:100%;height:100%;"></iframe>'}}V=['<div id="lhgdlg_',t.id,'" class="lhgdialog_',t.skin,'" style="width:',t.width,"px;height:",t.height,'px;">','<table border="0" cellspacing="0" cellpadding="0" width="100%">',"<tr>",'<td class="lhgdg_leftTop_',t.skin,'"></td>','<td id="lhgdg_drag_',t.id,'" class="lhgdg_top_',t.skin,'">',t.titleBar?('<div class="lhgdg_title_icon_'+t.skin+'">'+(t.iconTitle?'<div class="lhgdg_icon_'+t.skin+'"></div>':"")+'<div class="lhgdg_title_'+t.skin+'">'+t.title+"</div>"+(t.minBtn?('<a class="lhgdg_minbtn_'+t.skin+'" id="lhgdg_minbtn_'+t.id+'" href="javascript:void(0);" target="_self"></a>'):"")+(t.maxBtn?('<a class="lhgdg_maxbtn_'+t.skin+'" id="lhgdg_maxbtn_'+t.id+'" href="javascript:void(0);" target="_self"></a>'):"")+(t.xButton?('<a class="lhgdg_xbtn_'+t.skin+'" id="lhgdg_xbtn_'+t.id+'" href="javascript:void(0);" target="_self"></a>'):"")+"</div>"):"","</td>",'<td class="lhgdg_rightTop_',t.skin,'"></td>',"</tr>","<tr>",'<td class="lhgdg_left_',t.skin,'"></td>',"<td>",'<table border="0" cellspacing="0" cellpadding="0" width="100%">',"<tr>",'<td id="lhgdg_content_',t.id,'" style="background-color:#fff">',S,'<div id="lhgdg_load_',t.id,'" class="lhgdg_load_',t.skin,'"><span>',t.loadingText,"</span></div>","</td>","</tr>",t.btnBar?('<tr><td id="lhgdg_btnBar_'+t.id+'" class="lhgdg_btnBar_'+t.skin+'"><div class="lhgdg_btn_div_'+t.skin+'"></div></td></tr>'):"","</table>","</td>",'<td class="lhgdg_right_',t.skin,'"></td>',"</tr>","<tr>",'<td class="lhgdg_leftBottom_',t.skin,'"></td>','<td class="lhgdg_bottom_',t.skin,'"></td>','<td id="lhgdg_drop_',t.id,'" class="lhgdg_rightBottom_',t.skin,'"></td>',"</tr>","</table>",f,"</div>"].join("");return V},z=function(){r=l("#lhgdgCover",m)[0];if(!r){var S='<div id="lhgdgCover" style="position:absolute;top:0px;left:0px;background-color:'+t.bgcolor+';">'+f+"</div>";r=l(S,m).css("opacity",t.opacity).appendTo(m.body)[0]}if(t.lockScroll){l("html",m).addClass("lhgdg_lockScroll")}l(k).bind("resize",g);g();l(r).css({display:"",zIndex:c()})},u=function(ag,ai,ab,ad){var aj=o(),aa=b(),ac=parseInt(ag.style.width,10),S=parseInt(ag.style.height,10),ah,af,W,V,Y,Z,ae,X;if(ad){W=d?aa.x:0;V=d?aj.w+aa.x-ac:aj.w-ac;Y=d?(V+aa.x-20)/2:(V-20)/2;Z=d?aa.y:0;ae=d?aj.h+aa.y-S:aj.h-S;X=d?(ae+aa.y-20)/2:(ae-20)/2}else{W=aa.x;Y=aa.x+(aj.w-ac-20)/2;V=aa.x+aj.w-ac;Z=aa.y;X=aa.y+(aj.h-S-20)/2;ae=aa.y+aj.h-S}switch(ab){case"center":ah=Y;break;case"left":ah=W;break;case"right":ah=V;break;default:if(ad&&d){ab=ab+aa.x}ah=ab;break}switch(ai){case"center":af=X;break;case"top":af=Z;break;case"bottom":af=ae;break;default:if(ad&&d){ai=ai+aa.y}af=ai;break}if(af<aa.y&&!ad){af=aa.y}l(ag).css({top:af+"px",left:ah+"px"});if(ad&&d){M(ag)}},K=function(S){v.curWin=window;v.curDoc=document;l(S).bind("contextmenu",function(V){V.preventDefault()}).bind("mousedown",O);if(t.html&&t.html.nodeType){l(D).append(t.html);t.html.style.display=""}B=[window];if(k!=window){B.push(k)}if(t.page){v.dgFrm=l("#lhgfrm_"+t.id,m)[0];if(!t.link){v.dgWin=v.dgFrm.contentWindow;v.dgFrm.lhgDG=v}l(v.dgFrm).bind("load",function(){this.style.display="block";if(!t.link){var V=l.browser.msie?v.dgWin.document:v.dgWin;l(V).bind("mousedown",O);B.push(v.dgWin);v.dgDoc=v.dgWin.document;if(t.autoSize){F()}l.isFunction(t.dgOnLoad)&&t.dgOnLoad.call(v)}N.style.display="none"})}if(t.xButton&&t.titleBar){l(H).bind("click",t.onXclick||v.cancel)}if(t.maxBtn&&t.titleBar){l(R).bind("click",v.maxSize);l(s).bind("dblclick",v.maxSize)}if(t.minBtn&&t.titleBar&&l.isFunction(t.onMinSize)){l(C).bind("click",t.onMinSize)}},A=function(Y){var X=s.offsetHeight,S=e.offsetHeight,V=t.btnBar?U.offsetHeight:0,W=parseInt(Y.style.height,10)-X-S-V;if(W<0){W=20}N.style.lineHeight=W+"px";w.style.height=W+1+"px"},F=function(){var Y=s.offsetHeight,S=e.offsetHeight,X=t.btnBar?U.offsetHeight:0,Z=e.offsetWidth*2,V,aa,W;if(t.html){V=Math.max(D.scrollHeight,D.clientHeight||0);aa=Math.max(D.scrollWidth,D.clientWidth||0)}else{if(t.page&&!t.link){if(!v.dgDoc){return}W=n(v.dgDoc);V=Math.max(W.scrollHeight,W.clientHeight||0);aa=Math.max(W.scrollWidth,W.clientWidth||0)}}V=V+Y+S+X;aa=aa+Z;v.reDialogSize(aa,V);u(v.dg,"center","center",t.fixed)},P=function(Z){var ab,W,V,X,Y=B,ad,aa;function ac(af){var ae={x:af.screenX,y:af.screenY};X={x:X.x+(ae.x-ab.x),y:X.y+(ae.y-ab.y)};ab=ae;if(t.rang){if(X.x<aa.x){X.x=aa.x}if(X.y<aa.y){X.y=aa.y}if(X.x>W){X.x=W}if(X.y>V){X.y=V}}v.dg.style.top=t.fixed&&!d?X.y-aa.y+"px":X.y+"px";v.dg.style.left=t.fixed&&!d?X.x-aa.x+"px":X.x+"px"}function S(ag){for(var af=0,ae=Y.length;af<ae;af++){l(Y[af].document).unbind("mousemove",ac);l(Y[af].document).unbind("mouseup",S)}ab=null;Z=null;if(X.y<aa.y){v.dg.style.top=aa.y+"px"}if(t.fixed&&d){M(v.dg)}if(l.browser.msie){v.dg.releaseCapture()}}l(Z).bind("mousedown",function(aj){if(aj.target.id==="lhgdg_xbtn_"+t.id){return}ad=o();aa=b();var ae=v.dg.offsetLeft,ak=v.dg.offsetTop,ag=v.dg.clientWidth,ai=v.dg.clientHeight;X=t.fixed&&!d?{x:ae+aa.x,y:ak+aa.y}:{x:ae,y:ak};ab={x:aj.screenX,y:aj.screenY};W=ad.w+aa.x-ag;V=ad.h+aa.y-ai;v.dg.style.zIndex=parseInt(q,10)+1;for(var ah=0,af=Y.length;ah<af;ah++){l(Y[ah].document).bind("mousemove",ac);l(Y[ah].document).bind("mouseup",S)}aj.preventDefault();if(l.browser.msie){v.dg.setCapture()}})},J=function(Y){var aa,V,ab,W,X=B,ad,ae,Z;function ac(ag){var af={x:ag.screenX,y:ag.screenY};ad={w:af.x-aa.x,h:af.y-aa.y};if(ad.w<200){ad.w=200}if(ad.h<100){ad.h=100}v.dg.style.top=t.fixed?W.y-Z.y+"px":W.y+"px";v.dg.style.left=t.fixed?W.x-Z.x+"px":W.x+"px";v.reDialogSize(ad.w,ad.h)}function S(ah){for(var ag=0,af=X.length;ag<af;ag++){l(X[ag].document).unbind("mousemove",ac);l(X[ag].document).unbind("mouseup",S)}aa=null;Y=null;if(l.browser.msie){v.dg.releaseCapture()}}l(Y).bind("mousedown",function(ai){ab=v.dg.clientWidth;V=v.dg.clientHeight;ad={w:ab,h:V};ae=o();Z=b();var af=v.dg.offsetLeft,aj=v.dg.offsetTop;W=t.fixed?{x:af+Z.x,y:aj+Z.y}:{x:af,y:aj};aa={x:ai.screenX-ab,y:ai.screenY-V};v.dg.style.zIndex=parseInt(q,10)+1;for(var ah=0,ag=X.length;ah<ag;ah++){l(X[ah].document).bind("mousemove",ac);l(X[ah].document).bind("mouseup",S)}ai.preventDefault();if(l.browser.msie){v.dg.setCapture()}})},O=function(S){v.dg.style.zIndex=parseInt(q,10)+1;q=parseInt(v.dg.style.zIndex,10);S.stopPropagation()},T=function(){if(t.autoPos===true){t.autoPos={left:"center",top:"center"}}u(v.dg,t.autoPos.top,t.autoPos.left,t.fixed)},E=function(){if(l.isFunction(t.onCancel)){t.onCancel.call(v)}v.cancel()},y=function(){if(v.dgFrm){if(!t.link){l(v.dgFrm).unbind("load")}v.dgFrm.src="about:blank";v.dgFrm=null}if(t.html&&t.html.nodeType){l(v.curDoc.body).append(t.html);t.html.style.display="none"}if(t.autoPos){l(k).unbind("resize",T)}B=[];l(v.dg).remove();v.dg=null;x=false;Q={};N=D=H=s=e=U=w=R=C=null};v.ShowDialog=function(){if(l("#lhgdlg_"+t.id,m)[0]){return v}if(t.cover){z()}if(t.fixed){t.maxBtn=false;t.minBtn=false}var V=t.fixed&&!d?"fixed":"absolute",S=L();v.dg=l(S,m).css({position:V,zIndex:c()}).appendTo(m.body)[0];N=l("#lhgdg_load_"+t.id,m)[0];D=l("#lhgdg_inbox_"+t.id,m)[0];H=l("#lhgdg_xbtn_"+t.id,m)[0];s=l("#lhgdg_drag_"+t.id,m)[0];e=l("#lhgdg_drop_"+t.id,m)[0];U=l("#lhgdg_btnBar_"+t.id,m)[0];w=l("#lhgdg_content_"+t.id,m)[0];R=l("#lhgdg_maxbtn_"+t.id,m)[0];C=l("#lhgdg_minbtn_"+t.id,m)[0];A(v.dg);u(v.dg,t.top,t.left,t.fixed);K(v.dg);if(t.drag){P(s)}else{s.style.cursor="default"}if(t.resize){J(e)}else{e.style.cursor="default"}if(d&&l(e).css("ie6png")){l(v.dg).fixie6png()}if(t.btnBar&&t.cancelBtn){v.addBtn("dgcancelBtn",t.cancelBtnTxt,E)}if(t.html){N.style.display="none";D.style.display="";if(t.autoSize){F()}}if(t.timer){v.closeTime(t.timer,t.autoCloseFn)}if(t.html&&l.isFunction(t.dgOnLoad)){t.dgOnLoad.call(v)}if(t.autoPos){l(k).bind("resize",T)}};v.reDialogSize=function(V,S){l(v.dg).css({width:V+"px",height:S+"px"});A(v.dg)};v.maxSize=function(){var V,S;V=o();S=b();if(!x){Q.dgW=v.dg.offsetWidth;Q.dgH=v.dg.offsetHeight;Q.dgT=v.dg.style.top;Q.dgL=v.dg.style.left;l(v.dg).css({top:S.y+"px",left:S.x+"px"});v.reDialogSize(V.w,V.h);l(R).addClass("lhgdg_rebtn_"+t.skin).removeClass("lhgdg_maxbtn_"+t.skin);if(t.drag){l(s).unbind("mousedown").css("cursor","default")}if(t.resize){l(e).unbind("mousedown").css("cursor","default")}x=true}else{v.reDialogSize(Q.dgW,Q.dgH);l(v.dg).css({top:Q.dgT,left:Q.dgL});l(R).addClass("lhgdg_maxbtn_"+t.skin).removeClass("lhgdg_rebtn_"+t.skin);if(t.drag){P(s);s.style.cursor="move"}if(t.resize){J(e);e.style.cursor="nw-resize"}x=false}};v.SetMinBtn=function(S){if(t.minBtn&&t.titleBar){if(l.isFunction(S)){l(C).unbind("click").bind("click",S)}}};v.addBtn=function(Z,S,X,Y){Y=Y||"left";if(t.btnBar){if(l("#lhgdg_"+t.id+"_"+Z,m)[0]){l("#lhgdg_"+t.id+"_"+Z,m).html("<em>"+S+"</em>").unbind("click").bind("click",X)}else{var W='<a id="lhgdg_'+t.id+"_"+Z+'" class="lhgdg_button_'+t.skin+'" href="javascript:void(0);" target="_self"><em>'+S+"</em></a>",V=l(W,m).bind("click",X)[0];if(Y==="left"){l(".lhgdg_btn_div_"+t.skin,U).prepend(V)}else{l(".lhgdg_btn_div_"+t.skin,U).append(V)}}}};v.removeBtn=function(S){if(l("#lhgdg_"+t.id+"_"+S,m)[0]){l("#lhgdg_"+t.id+"_"+S,m).remove()}};v.SetIndex=function(){v.dg.style.zIndex=parseInt(q,10)+1;q=parseInt(v.dg.style.zIndex,10)};v.SetXbtn=function(S,V){if(t.xButton&&t.titleBar){if(l.isFunction(S)){l(H).unbind("click").bind("click",S)}if(V){H.style.display="none"}else{H.style.display=""}}};v.SetTitle=function(S){if(t.titleBar&&typeof S==="string"){l(".lhgdg_title_"+t.skin,v.dg).html(S)}};v.cancel=function(){y();if(r){if(t.parent&&t.parent.isCover){var S=t.parent.dg.style.zIndex;r.style.zIndex=parseInt(S,10)-1}else{r.style.display="none"}if(t.lockScroll){l("html",m).removeClass("lhgdg_lockScroll")}}};v.cleanDialog=function(){if(v.dg){y()}if(r){l(r).remove();r=null}};v.closeTime=function(V,S,W){if(G){clearTimeout(G)}if(S){S.call(v)}if(V){G=setTimeout(function(){if(W){W.call(v)}v.cancel();clearTimeout(G)},1000*V)}};v.SetPosition=function(V,S){u(v.dg,S,V,t.fixed)};v.iWin=function(S){if(l("#lhgfrm_"+S,m)[0]){return l("#lhgfrm_"+S,m)[0].contentWindow}return null};v.iDoc=function(S){if(l("#lhgfrm_"+S,m)[0]){return l("#lhgfrm_"+S,m)[0].contentWindow.document}return null};v.iDG=function(S){return m.getElementById("lhgdlg_"+S)||null};v.SetCancelBtn=function(S,V){V=V||v.cancel;if(l("#lhgdg_"+t.id+"_dgcancelBtn",m)[0]){l("#lhgdg_"+t.id+"_dgcancelBtn",m).html("<em>"+S+"</em>").unbind("click").bind("click",V)}};v.setArgs=function(S){t.args=S};v.getArgs=function(){return t.args};v.dialogId=t.id;v.parent=t.parent;v.isCover=t.cover?true:false;l(window).bind("unload",v.cleanDialog)};l(function(){var e=setTimeout(function(){new l.dialog({id:"reLoadId",html:"lhgdialog",width:100,title:"reLoad",height:100,left:-9000,btnBar:false}).ShowDialog();clearTimeout(e)},150)})})(window.lhgcore||window.jQuery);